- name: Ensure VSCode config path exists (Mac)
  ansible.builtin.file:
    path: "{{ lookup('env', 'HOME') }}/Library/Application Support/Code/User"
    state: directory
  when: ansible_system == "Darwin"

- name: Install VSCode Config (Mac)
  ansible.builtin.copy:
    src: files/vscode-settings.json
    dest: "{{ lookup('env', 'HOME') }}/Library/Application Support/Code/User/settings.json"
  when: ansible_system == "Darwin"

- name: Ensure VSCode config path exists (Linux)
  ansible.builtin.file:
    path: "{{ lookup('env', 'HOME') }}/.config/Code/User"
    state: directory
  when: ansible_system == "Linux"

- name: Install VSCode Config (Linux)
  ansible.builtin.copy:
    src: files/vscode-settings.json
    dest: "{{ lookup('env', 'HOME') }}/.config/Code/User/settings.json"
  when: ansible_system == "Linux"

- name: Ensure continue.dev config path exists
  ansible.builtin.file:
    path: "{{ lookup('env', 'HOME') }}/.continue"
    state: directory

- name: Install continue.dev configuration
  ansible.builtin.copy:
    src: files/continue/
    dest: "{{ lookup('env', 'HOME') }}/.continue/"
