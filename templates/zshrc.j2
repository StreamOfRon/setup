export PATH="/usr/local/sbin:$PATH"
export PATH="/usr/local/opt/mysql-client/bin:$PATH"
export PATH="$PATH:$HOME/bin:$HOME/go/bin"

[[ ! -f ~/.zshrc.omz ]] || source ~/.zshrc.omz

# Set it here, so it can be overridden in zshrc.local
export EDITOR='vim'
setopt AUTO_CD
setopt GLOB_STAR_SHORT
setopt NO_NOMATCH
setopt GLOB_DOTS
setopt EXTENDED_GLOB
unsetopt CASE_GLOB

run-workflow() {
  gh workflow run $1 --ref $(git rev-parse --abbrev-ref HEAD)
  sleep 5
  watch-workflow $1
}
watch-workflow() {
  gh run watch $(gh run ls -c $(git rev-parse HEAD) --workflow="$1" --json databaseId -q '.[0].databaseId')
}

[[ ! -f ~/.zshrc.local ]] || source ~/.zshrc.local
